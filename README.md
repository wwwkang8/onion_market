# 양파마켓 개발 ReadMe

## 양파마켓 트러블슈팅 분석 및 개선 내용
- JWT 블랙리스트 개발 : https://www.notion.so/JWT-18ac2c3a7ff9800aaceafaf0a1419516


## 시나리오 요구사항 분석(양파마켓)
[유저 로그인 API]
- JWT 토큰을 발급하여 쿠키에 저장하여 클라이언트에게 전송
- 토큰 유효기간 : 1시간

[JWT 블랙리스트 API]
- 유저의 토큰을 블랙리스트에 등록하여, 토큰의 무효화 시키는 API
- 토큰이 무효화 된 경우 쿠키에 null로 저장하여 클라이언트에게 전송
- 모든 기기에서 로그아웃 처리.

[게시글 작성 및 조회 API]
- 게시글 작성 : 토큰 인증 후에 사용할 수 있는 기능. 게시판에 게시글을 등록
- 게시글 조회 : 게시글을 조회하는 기능

[댓글 작성 및 조회 API]
- 댓글 작성 : 토큰 인증 후에 사용할 수 있는 기능. 게시글에 댓글을 작성하는 기능
- 댓글 조회 : 댓글을 조회하는 기능
  
## API 명세
![image](https://github.com/user-attachments/assets/16fdf4c2-9b9b-43cd-be5a-201bfce16d17)

### [1. 로그인]
사용자가 로그인을 하는 API
| 메서드 | 요청 URL | 기능 |
|--------|-----------------| -----------|
| POST    |/api/users/login     | 로그인   |

Request
| 파라메터 | 타입 | 필수여부 | 설명 |
|--------|----------| ----------|----------|
| 없음     |         |           |          |

Response
| 필드 | 타입 | 필수여부 | 설명 |
|--------|----------------|-----|------------------|
| token  |String    |필수  |토큰|


### [1-1. 로그아웃]
사용자가 로그아웃을 하는 API

| 메서드 | 요청 URL | 기능 |
|--------|-----------------| -----------|
| GET    |/api/users/logout| 로그아웃 |

Request(헤더부)
| 파라메터 | 타입 | 필수여부 | 설명 |
|--------|----------| ----------|----------|
| token  |String    |필수        |사용자의 토큰|

Response
| 필드 | 타입 | 필수여부 | 설명 |
|--------|----------------|-----|------------------|


### [1-2. JWT 블랙리스트 추가]
유저의 토큰을 블랙리스트에 등록하여 무효화 시키는 api.
모든 접속 단말에서 로그아웃 처리

| 메서드 | 요청 URL | 기능 |
|--------|-----------------| -----------|
| GET    |/api/users/logout/all| 모든 기기 로그아웃 |

Request(헤더부)
| 파라메터 | 타입 | 필수여부 | 설명 |
|--------|----------| ----------|----------|
| token  |String    |필수        |사용자의 토큰|

Response
| 필드 | 타입 | 필수여부 | 설명 |
|--------|----------------|-----|------------------|



### [2. 게시글 조회]
게시글을 조회하는 api

| 메서드 | 요청 URL | 기능 |
|--------|-----------------| -----------|
| GET    |/api/boards/{boardId}/articles| 게시글을 조회 |

Request(헤더부)
| 파라메터 | 타입 | 필수여부 | 설명 |
|--------|----------| ----------|----------|
| boardId  |String    |필수        |게시판 아이디|
| lastId  |String    |필수        |최신 게시글 아이디|
| firstId  |String    |필수        |오래된 게시글 아이디|

Response
| 필드 | 타입 | 필수여부 | 설명 |
|--------|----------------|-----|------------------|
